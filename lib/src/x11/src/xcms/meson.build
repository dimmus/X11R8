src = files(
    'AddDIC.c',
    'AddSF.c',
    'CCC.c',
    'CvColW.c',
    'CvCols.c',
    'Cv.h',
    'HVC.c',
    'HVCGcC.c',
    'HVCGcV.c',
    'HVCGcVC.c',
    'HVCMnV.c',
    'HVCMxC.c',
    'HVCMxV.c',
    'HVCMxVC.c',
    'HVCMxVs.c',
    'HVCWpAj.c',
    'IdOfPr.c',
    'LRGB.c',
    'Lab.c',
    'LabGcC.c',
    'LabGcL.c',
    'LabGcLC.c',
    'LabMnL.c',
    'LabMxC.c',
    'LabMxL.c',
    'LabMxLC.c',
    'LabWpAj.c',
    'Luv.c',
    'LuvGcC.c',
    'LuvGcL.c',
    'LuvGcLC.c',
    'LuvMnL.c',
    'LuvMxC.c',
    'LuvMxL.c',
    'LuvMxLC.c',
    'LuvWpAj.c',
    'OfCCC.c',
    'PrOfId.c',
    'QBlack.c',
    'QBlue.c',
    'QGreen.c',
    'QRed.c',
    'QWhite.c',
    'QuCol.c',
    'QuCols.c',
    'SetCCC.c',
    'SetGetCols.c',
    'StCol.c',
    'StCols.c',
    'UNDEFINED.c',
    'XRGB.c',
    'XYZ.c',
    'cmsAllCol.c',
    'cmsAllNCol.c',
    'cmsCmap.c',
    'cmsColNm.c',
    'cmsGlobls.c',
    'cmsInt.c',
    'cmsLkCol.c',
    'cmsMath.c',
    'cmsProp.c',
    'cmsTrig.c',
    'uvY.c',
    'xyY.c',
    'Xcmsint.h',
)

conf.set_quoted('XCMSDIR', meson.project_source_root() / 'src' / 'lib' / 'x11' / 'src' / 'xcms')

lib = static_library('xcms', src,
  c_args: lib_args,
  include_directories: inc_x11,
  dependencies: dep_ext_x11,
  install: true,
)

libxcms = declare_dependency(
  link_with: lib,
  include_directories: inc_x11,
)